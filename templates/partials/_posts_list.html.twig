{# templates/partials/_posts_list.html.twig #}
<link rel="stylesheet" href="{{ asset('css/post/feedEntry.css') }}"/>

<div class="example-wrapper">
    {% if posts is empty %}
        <p>No posts available.</p>
    {% else %}
        <ul>
            {% for post in posts %}
                    <li class="feed-entry">
                        <div class="profileImg">
                            <a href="{{ path('view_profile', { userId: post.userId }) }}" class="username-link">
                                <img src="{{ cloudinaryService.getProfilePictureUrl(post.profilePicture) }}" alt="{{ post.username }}'s Profile Picture"
                                     class="post-profile-picture">
                            </a>
                        </div>
                        <div class="post-content">
                            <div class="post-username">
                                <h2 class="post-username">
                                    <a href="{{ path('view_profile', { userId: post.userId }) }}" class="username-link">
                                        {{ post.username }}
                                    </a>
                                </h2>
                            </div>
                            <a href="{{ path('app_post_show', { id: post.id }) }}">
                            <div class="post-text">
                                <strong></strong> {{ post.content }} <br>
                            </div>
                            <div class="post-image">
                                {# Image or Video Preview #}
                                {% if post.image %}
                                    <img src="{{ cloudinaryService.getPostFileUrl(post.image) }}" alt="Post Image" class="post-image"/>
                                {% endif %}
                            </div>
                                <div class="post-tag">
                                    {% if post.gameName %}
                                        <strong>Game:</strong> {{ post.gameName }} <br>
                                    {% endif %}
                                </div>
                            </a>
                        </div>
                        {# User Profile Section #}
                    </li>
            {% endfor %}
        </ul>
    {% endif %}
</div>
